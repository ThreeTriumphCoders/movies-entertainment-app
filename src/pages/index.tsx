import { type NextPage } from "next";
import Head from "next/head";
import { TrendingList } from "~/components/TrendingList";
import { MoviesList } from "~/components/MoviesList";
import { useGetPopularMovies, useGetPopularSeries } from "~/utils/use-queries";
import Link from "next/link";

const Home: NextPage = () => {
  const [popularMovies] = useGetPopularMovies();
  const [popularSeries] = useGetPopularSeries();

  const buttonClasses = `
    flex justify-center w-fit mx-auto
    rounded-lg transition
    bg-primary hover:bg-semi-dark 
    px-5 py-1 lg:px-6 lg:py-2
    sm:text-xl lg:text-2xl
    text-dark hover:text-light
  `;
  const sectionClasses = "mb-6 sm:mb-10";
  return (
    <>
      <Head>
        <title>Movies Entertainment</title>
        <meta name="description" content="Generated by create-t3-app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <section className={sectionClasses}>
        <TrendingList />
      </section>

      <section className={sectionClasses}>
        <MoviesList 
          movies={popularMovies.slice(0, 12)} 
          title = 'Popular movies'
          category = 'Movie'
          apiPath = 'movie'
        />

        <Link 
          href={'/movies'}
          className={buttonClasses}
        >
          See more movies
        </Link>
      </section>

      <section>
        <MoviesList 
          movies={popularSeries.slice(0, 12)} 
          title = 'Popular series'
          category = 'TV Serie'
          apiPath = 'tv'
        />

        <Link 
          href={'/series'}
          className={buttonClasses}
        >
          See more series
        </Link>
      </section>
    </>
  );
};

export default Home;
